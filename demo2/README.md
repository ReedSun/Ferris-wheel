<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>learn Vue</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="033h" id="learn-vue">learn Vue</h1><ul data-anchor-id="mc9y">
<li>在demo1中，我们安装了webpack的环境，demo2的工作就是安装Vue.js，并用vue.js输出Hello,world!</li>
<li>参考 <a href="https://cn.vuejs.org/v2/guide/installation.html" target="_blank">Vue.js官网</a>,及<a href="https://github.com/jirengu-inc/jrg-project-5/issues/2" target="_blank">Hello Vue</a></li>
</ul><div class="md-section-divider"></div><h2 data-anchor-id="5lhy" id="我做的工作">我做的工作</h2><div class="md-section-divider"></div><h3 data-anchor-id="a0kd" id="安装vuejs">安装vue.js</h3><ul data-anchor-id="9war">
<li>首先，将demo1里的代码复制一份到demo2中。</li>
<li>运行如下命令，通过NPM安装Vue</li>
</ul><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="as87"><ol class="linenums"><li class="L0"><code><span class="pln">npm install vue</span></code></li></ol></pre><ul data-anchor-id="e2c9">
<li>在 webpack(即webpack.config.js) 配置中添加下面的别名：</li>
</ul><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="6nlb"><ol class="linenums"><li class="L0"><code><span class="pln">resolve</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">  </span><span class="kwd">alias</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="str">'vue$'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'vue/dist/vue.common.js'</span></code></li><li class="L3"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L4"><code><span class="pun">}</span></code></li></ol></pre><p data-anchor-id="hv8m">Vue有两种构建方式，独立构建和运行构建。它们的区别在于前者包含模板编译器而后者不包含。我们下面使用的 Vue 是 「独立构建」（standalone build）版本。 <br>
默认 NPM 包导出的是 运行时 构建。为了使用独立构建，在 webpack 配置中添加上面的别名。</p><div class="md-section-divider"></div><h3 data-anchor-id="993v" id="解决安装vuejs过程中产生的warn">解决安装Vue.js过程中产生的WARN</h3><p data-anchor-id="65uc">我们在安装 vue 时，命令行产生了很多警告，如下：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="8qg0"><ol class="linenums"><li class="L0"><code><span class="pln">npm http request GET https</span><span class="pun">:</span><span class="com">//registry.npm.taobao.org/vue</span></code></li><li class="L1"><code><span class="pln">npm http </span><span class="lit">200</span><span class="pln"> https</span><span class="pun">:</span><span class="com">//registry.npm.taobao.org/vue</span></code></li><li class="L2"><code><span class="pun">/</span><span class="typ">Users</span><span class="pun">/</span><span class="pln">frank</span><span class="pun">/</span><span class="pln">jrg</span><span class="pun">/</span><span class="pln">jrg</span><span class="pun">-</span><span class="pln">project</span><span class="pun">-</span><span class="lit">5</span><span class="pun">/</span><span class="pln">step</span><span class="pun">-</span><span class="lit">2</span></code></li><li class="L3"><code><span class="pun">├──</span><span class="pln"> vue@2</span><span class="pun">.</span><span class="lit">1.8</span></code></li><li class="L4"><code><span class="pun">└──</span><span class="pln"> UNMET PEER DEPENDENCY webpack@1 </span><span class="pun">||</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">^</span><span class="lit">2.1</span><span class="pun">.</span><span class="lit">0</span><span class="pun">-</span><span class="pln">beta </span><span class="pun">||</span><span class="pln"> </span><span class="pun">^</span><span class="lit">2.2</span><span class="pun">.</span><span class="lit">0</span><span class="pun">-</span><span class="pln">rc</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="pln">npm WARN enoent ENOENT</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">no</span><span class="pln"> such file </span><span class="kwd">or</span><span class="pln"> directory</span><span class="pun">,</span><span class="pln"> open </span><span class="str">'/Users/frank/jrg/jrg-project-5/step-2/package.json'</span></code></li><li class="L7"><code><span class="pln">npm WARN babel</span><span class="pun">-</span><span class="pln">loader@6</span><span class="pun">.</span><span class="lit">2.10</span><span class="pln"> requires a peer of webpack@1 </span><span class="pun">||</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">^</span><span class="lit">2.1</span><span class="pun">.</span><span class="lit">0</span><span class="pun">-</span><span class="pln">beta </span><span class="pun">||</span><span class="pln"> </span><span class="pun">^</span><span class="lit">2.2</span><span class="pun">.</span><span class="lit">0</span><span class="pun">-</span><span class="pln">rc but none was installed</span><span class="pun">.</span></code></li><li class="L8"><code><span class="pln">npm WARN step</span><span class="pun">-</span><span class="lit">2</span><span class="pln"> </span><span class="typ">No</span><span class="pln"> description</span></code></li><li class="L9"><code><span class="pln">npm WARN step</span><span class="pun">-</span><span class="lit">2</span><span class="pln"> </span><span class="typ">No</span><span class="pln"> repository field</span><span class="pun">.</span></code></li><li class="L0"><code><span class="pln">npm WARN step</span><span class="pun">-</span><span class="lit">2</span><span class="pln"> </span><span class="typ">No</span><span class="pln"> README data</span></code></li><li class="L1"><code><span class="pln">npm WARN step</span><span class="pun">-</span><span class="lit">2</span><span class="pln"> </span><span class="typ">No</span><span class="pln"> license field</span><span class="pun">.</span></code></li></ol></pre><p data-anchor-id="mvcr">我们先来解决最后四行警告，方法是添加package.json和readme.md两个文件</p><ul data-anchor-id="pvno">
<li>添加package.json的方法是运行如下命令(敲完这个命令之后，npm 会问你很多问题，方便起见，我们先不回答，一路回车就行)：</li>
</ul><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="3le4"><ol class="linenums"><li class="L0"><code><span class="pln">npm init</span></code></li></ol></pre><p data-anchor-id="hp16">这时 package.json 就创建好了，我需要把里面的 description （描述）改一下，然后加上 repository 字段（git远程仓库），得到如下的package.json：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="ai95"><ol class="linenums"><li class="L0"><code><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">  </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"step-2"</span><span class="pun">,</span></code></li><li class="L2"><code><span class="pln">  </span><span class="str">"version"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"1.0.0"</span><span class="pun">,</span></code></li><li class="L3"><code><span class="pln">  </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"A vue.js demo"</span><span class="pun">,</span></code></li><li class="L4"><code><span class="pln">  </span><span class="str">"main"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"app.js"</span><span class="pun">,</span></code></li><li class="L5"><code><span class="pln">  </span><span class="str">"dependencies"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6"><code><span class="pln">  </span><span class="pun">},</span></code></li><li class="L7"><code><span class="pln">  </span><span class="str">"repository"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8"><code><span class="pln">    </span><span class="str">"type"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"git"</span><span class="pun">,</span></code></li><li class="L9"><code><span class="pln">    </span><span class="str">"url"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"git+https://github.com/FrankFang/xxx.git"</span></code></li><li class="L0"><code><span class="pln">  </span><span class="pun">},</span></code></li><li class="L1"><code><span class="pln">  </span><span class="str">"devDependencies"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{},</span></code></li><li class="L2"><code><span class="pln">  </span><span class="str">"scripts"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">    </span><span class="str">"test"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></code></li><li class="L4"><code><span class="pln">  </span><span class="pun">},</span></code></li><li class="L5"><code><span class="pln">  </span><span class="str">"author"</span><span class="pun">:</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span></code></li><li class="L6"><code><span class="pln">  </span><span class="str">"license"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"ISC"</span></code></li><li class="L7"><code><span class="pun">}</span></code></li></ol></pre><p data-anchor-id="22d8">剩下的警告是由于我们没有安装相应的依赖包，我们可以用如下命令解决这个问题：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="4jth"><ol class="linenums"><li class="L0"><code><span class="pln">npm i </span><span class="pun">-</span><span class="pln">S webpack vue babel</span><span class="pun">-</span><span class="pln">loader babel</span><span class="pun">-</span><span class="pln">core babel</span><span class="pun">-</span><span class="pln">preset</span><span class="pun">-</span><span class="pln">es2015 babel</span><span class="pun">-</span><span class="pln">preset</span><span class="pun">-</span><span class="pln">react</span></code></li></ol></pre><p data-anchor-id="6uh4">运行之后，我们依赖的所有包，都会被安装，同时 package.json 的 dependencies 字段，会记录这些包的名字和版本。 <br>
这样，如果有人 git clone 我的项目之后，只需要运行 <code class="code-black">npm i</code> 就可以安装我指定的包啦，好神奇。</p><div class="md-section-divider"></div><h3 data-anchor-id="5iip" id="运行vuejs的实例输出hello-world">运行Vue.js的实例，输出Hello World</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="ofpg"><ol class="linenums"><li class="L0"><code><span class="com">// 改写 page.html</span></code></li><li class="L1"><code><span class="str">&lt;html&gt;</span></code></li><li class="L2"><code><span class="pln">  </span><span class="str">&lt;head&gt;</span></code></li><li class="L3"><code><span class="pln">  </span><span class="pun">&lt;/</span><span class="pln">head</span><span class="pun">&gt;</span></code></li><li class="L4"><code><span class="pln">  </span><span class="str">&lt;body&gt;</span></code></li><li class="L5"><code><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">div id</span><span class="pun">=</span><span class="str">"app"</span><span class="pun">&gt;</span></code></li><li class="L6"><code><span class="pln">      </span><span class="pun">{{</span><span class="pln"> message </span><span class="pun">}}</span></code></li><li class="L7"><code><span class="pln">    </span><span class="pun">&lt;/</span><span class="pln">div</span><span class="pun">&gt;</span></code></li><li class="L8"><code></code></li><li class="L9"><code><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">script src</span><span class="pun">=</span><span class="str">"bundle.js"</span><span class="pun">&gt;&lt;/</span><span class="pln">script</span><span class="pun">&gt;</span></code></li><li class="L0"><code><span class="pln">  </span><span class="pun">&lt;/</span><span class="pln">body</span><span class="pun">&gt;</span></code></li><li class="L1"><code><span class="pun">&lt;/</span><span class="pln">html</span><span class="pun">&gt;</span></code></li><li class="L2"><code></code></li><li class="L3"><code></code></li><li class="L4"><code></code></li><li class="L5"><code><span class="com">// 改写 app.js </span></code></li><li class="L6"><code></code></li><li class="L7"><code><span class="kwd">import</span><span class="pln"> bar </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./bar'</span><span class="pun">;</span></code></li><li class="L8"><code><span class="kwd">import</span><span class="pln"> </span><span class="typ">Vue</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'vue'</span><span class="pun">;</span></code></li><li class="L9"><code></code></li><li class="L0"><code><span class="kwd">var</span><span class="pln"> app </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Vue</span><span class="pun">({</span></code></li><li class="L1"><code><span class="pln">  el</span><span class="pun">:</span><span class="pln"> </span><span class="str">'#app'</span><span class="pun">,</span></code></li><li class="L2"><code><span class="pln">  data</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">    message</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Hello Vue!'</span></code></li><li class="L4"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L5"><code><span class="pun">})</span><span class="pln">                                                               </span></code></li></ol></pre><p data-anchor-id="mgps">在命令行运行<code class="code-black">webpack</code>，打开page.html，发现成功运行Hello World~ <br>
PS:经过我的测试，app.js中Vue对象的el属性即为html的css选择器，data属性即为模板内容。</p></div>
</body>
</html>